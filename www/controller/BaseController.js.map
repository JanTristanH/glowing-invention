{"version":3,"file":"BaseController.js","names":["sap","ui","define","Controller","History","UIComponent","MessageToast","Filter","FilterOperator","Fragment","extend","nZoomLevelLabelThreshold","nZoomLevelClickThreshold","fallBackCords","onInit","isPWAInstalled","window","matchMedia","matches","navigator","standalone","this","getModel","setProperty","oMyAvatar","getView","byId","_oPopover","load","id","getId","name","controller","then","oPopover","addDependent","bind","onMyAvatarPress","oEvent","oEventSource","getSource","bActive","getActive","setActive","close","openBy","onInstallPress","installPWA","onNavToInfoPress","open","onPopoverClose","onUserMenuListItemPress","onLogoutPress","location","href","onMyProfilePress","getRouter","navTo","userId","getProperty","onAvatarGroupPress","getParameter","getFieldGroupIds","onOpenAdminPanelPress","initializeAppModelForMap","sLastZoomLevel","sessionStorage","getItem","parseInt","attachGroupChange","stringToBoolean","str","onButtonSharePress","share","title","document","text","url","getRouterFor","sName","getOwnerComponent","getText","sKey","getResourceBundle","_getPoiById","ID","oModel","oStamp","oParking","getStampByNumber","sNumber","aData","Object","values","oData","filter","e","number","pop","formatCleanMeter","meters","isNaN","undefined","onNavBack","oHistory","sPreviousHash","getInstance","getPreviousHash","history","go","onNavToMap","onNavToRouting","onNavToList","params","onNavToFriends","onButtonAdminMapPress","onFormatRouteLineDash","travelMode","formatMetersToKilometers","iMeters","kilometers","toFixed","formatSecondsToTime","iSeconds","hours","Math","floor","minutes","seconds","formattedTime","trim","_mapTravelTimeToPOIList","aPath","Array","isArray","length","p","toPoi","fromPoi","unshift","duration","distance","toPoiType","rank","reverse","map","_addStampedUsers","aSelectedGroup","JSON","parse","stringify","currentUser","push","forEach","poi","stampedUsers","u","includes","loadTourTravelTime","sTourId","successCallback","read","urlParameters","$expand","$orderby","filters","EQ","success","oRelatedData","oResponse","travelTimeData","results","path","tt","travelTime","durationSeconds","distanceMeters","elevationProfile","aElevationProfile","split","i","x","y","parseFloat","error","oError","show","console","onFormatInitialsByName","s","charAt","toUpperCase","join","substring","isAdmin","roles","role","onStampGroupPress","oAppModel","bStampingEnabled","_oStampDialog","oDialog","_setupStampDialogBinding","oMultiComboBox","oBinding","getBinding","attachEventOnce","aContexts","getContexts","aAllowedIds","context","getObject","o","isAllowedToStampForFriend","aSelectedGroupIds","aFilteredSelections","refresh","warn","onConfirmStampGroup","bIncludeMe","sStampId","callFunction","method","bStampForUser","sGroupUserIds","onCancelStampGroup","onFormatSpotText","sText","parts"],"sources":["BaseController-dbg.js"],"mappings":"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","ignoreList":[]}